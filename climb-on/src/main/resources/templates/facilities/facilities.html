<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

    <meta charset="UTF-8">
    <title>Title</title>
    <head th:replace="~{/common/head :: headFragment}"></head>
<body>
<!--header-->
<header th:replace ="~{/common/header :: headerFragment}" ></header>

<!--content-->
<main class="content">
    <th:block layout:fragment = "containerFragment">
        <!-- 각각의 페이지에서 구현하고자 하는 컨텐츠를 작성 -->
        <!-- 폼이 각 카테고리 버튼을 감싸는 구조 -->




        <div class="inner">
            <!-- 볼더링 카테고리 버튼 -->
            <br/><br/><br/><br/>
            <!--검색기능-->

            <form id="searchForm" action="/facilities/search" method="post">
                코드 : <input type="text" name="code" id="codeInput" oninput="showSuggestions()" autocomplete="off"/><br/>
                <button type="submit">전송하기</button>
            </form>
            <div id="suggestions"></div> <!-- 추천 결과를 보여줄 부분 -->


            <button type="button" onclick="handleCategorySubmit(1)">볼더링</button>
            <button type="button" onclick="handleCategorySubmit(2)">리드</button>
            <button type="button" onclick="handleCategorySubmit(3)">되라좀</button>

        </div>

<h2 class="inner">시설 목록</h2>
<div class="inner" th:if="${facilitiesList != null}">
    <table id="facilitiestb">
        <thead>
        <tr>
            <th>시설 ID</th>
            <th>시설명</th>
            <th>주소</th>
            <th>연락처</th>
            <th>개방 시간</th>
            <th>카테고리 ID</th>
            <th>위도</th>
            <th>경도</th>
            <th>시설 타입</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="facility : ${facilitiesList}">
            <td th:href="@{/facilities/select}" th:text="${facility.id}">시설 ID</td>
            <td th:text="${facility.facilityName}">시설명</td>
            <td th:text="${facility.address}">주소</td>
            <td th:text="${facility.contact}">연락처</td>
            <td th:text="${facility.openingTime}">개방 시간</td>
            <td th:text="${facility.categoryId}">카테고리 ID</td>
            <td th:text="${facility.latitude}">위도</td>
            <td th:text="${facility.longitude}">경도</td>
            <td th:text="${facility.facilityType}">시설 타입</td>
        </tr>
        </tbody>
    </table>
</div>
        <!-- 시설 목록이 없을 경우 메시지 표시 -->
        <div class="inner" th:if="${facilitiesList == null or facilitiesList.isEmpty()}">
            <p>시설 목록이 없습니다.</p>
        </div>
    </th:block>
<!--footer-->
<footer th:replace ="~{/common/footer :: footerFragment}" ></footer>

<!--공통 js-->
<!--fontawesome icon-->
<script src="https://kit.fontawesome.com/5d48c3da4c.js" crossorigin="anonymous"></script>
<!--부트스트랩-->
<script th:src="@{/js/plugin/bootstrap.bundle.min.js}"></script>
<!--공통영역(만듦)-->
<script th:src="@{/js/common/common.js}"></script>


</main>
<script th:src="@{/js/page/facilities.js}"></script>
<th:block layout:fragment="javascript"></th:block>
</body>
</html>